"use strict";(self.webpackChunkpapeleria=self.webpackChunkpapeleria||[]).push([[130],{3130:(Ee,y,C)=>{C.r(y),C.d(y,{PagesAdminRoutingModule:()=>Se});var M=C(7276);const N={monthDataSeries1:{prices:[8107.85,8128,8122.9,8165.5,8340.7,8423.7,8423.5,8514.3,8481.85,8487.7,8506.9,8626.2,8668.95,8602.3,8607.55,8512.9,8496.25,8600.65,8881.1,9340.85],dates:["13 Nov 2017","14 Nov 2017","15 Nov 2017","16 Nov 2017","17 Nov 2017","20 Nov 2017","21 Nov 2017","22 Nov 2017","23 Nov 2017","24 Nov 2017","27 Nov 2017","28 Nov 2017","29 Nov 2017","30 Nov 2017","01 Dec 2017","04 Dec 2017","05 Dec 2017","06 Dec 2017","07 Dec 2017","08 Dec 2017"]},monthDataSeries2:{prices:[8423.7,8423.5,8514.3,8481.85,8487.7,8506.9,8626.2,8668.95,8602.3,8607.55,8512.9,8496.25,8600.65,8881.1,9040.85,8340.7,8165.5,8122.9,8107.85,8128],dates:["13 Nov 2017","14 Nov 2017","15 Nov 2017","16 Nov 2017","17 Nov 2017","20 Nov 2017","21 Nov 2017","22 Nov 2017","23 Nov 2017","24 Nov 2017","27 Nov 2017","28 Nov 2017","29 Nov 2017","30 Nov 2017","01 Dec 2017","04 Dec 2017","05 Dec 2017","06 Dec 2017","07 Dec 2017","08 Dec 2017"]},monthDataSeries3:{prices:[7114.25,7126.6,7116.95,7203.7,7233.75,7451,7381.15,7348.95,7347.75,7311.25,7266.4,7253.25,7215.45,7266.35,7315.25,7237.2,7191.4,7238.95,7222.6,7217.9,7359.3,7371.55,7371.15,7469.2,7429.25,7434.65,7451.1,7475.25,7566.25,7556.8,7525.55,7555.45,7560.9,7490.7,7527.6,7551.9,7514.85,7577.95,7592.3,7621.95,7707.95,7859.1,7815.7,7739,7778.7,7839.45,7756.45,7669.2,7580.45,7452.85,7617.25,7701.6,7606.8,7620.05,7513.85,7498.45,7575.45,7601.95,7589.1,7525.85,7569.5,7702.5,7812.7,7803.75,7816.3,7851.15,7912.2,7972.8,8145,8161.1,8121.05,8071.25,8088.2,8154.45,8148.3,8122.05,8132.65,8074.55,7952.8,7885.55,7733.9,7897.15,7973.15,7888.5,7842.8,7838.4,7909.85,7892.75,7897.75,7820.05,7904.4,7872.2,7847.5,7849.55,7789.6,7736.35,7819.4,7875.35,7871.8,8076.5,8114.8,8193.55,8217.1,8235.05,8215.3,8216.4,8301.55,8235.25,8229.75,8201.95,8164.95,8107.85,8128,8122.9,8165.5,8340.7,8423.7,8423.5,8514.3,8481.85,8487.7,8506.9,8626.2],dates:["02 Jun 2017","05 Jun 2017","06 Jun 2017","07 Jun 2017","08 Jun 2017","09 Jun 2017","12 Jun 2017","13 Jun 2017","14 Jun 2017","15 Jun 2017","16 Jun 2017","19 Jun 2017","20 Jun 2017","21 Jun 2017","22 Jun 2017","23 Jun 2017","27 Jun 2017","28 Jun 2017","29 Jun 2017","30 Jun 2017","03 Jul 2017","04 Jul 2017","05 Jul 2017","06 Jul 2017","07 Jul 2017","10 Jul 2017","11 Jul 2017","12 Jul 2017","13 Jul 2017","14 Jul 2017","17 Jul 2017","18 Jul 2017","19 Jul 2017","20 Jul 2017","21 Jul 2017","24 Jul 2017","25 Jul 2017","26 Jul 2017","27 Jul 2017","28 Jul 2017","31 Jul 2017","01 Aug 2017","02 Aug 2017","03 Aug 2017","04 Aug 2017","07 Aug 2017","08 Aug 2017","09 Aug 2017","10 Aug 2017","11 Aug 2017","14 Aug 2017","16 Aug 2017","17 Aug 2017","18 Aug 2017","21 Aug 2017","22 Aug 2017","23 Aug 2017","24 Aug 2017","28 Aug 2017","29 Aug 2017","30 Aug 2017","31 Aug 2017","01 Sep 2017","04 Sep 2017","05 Sep 2017","06 Sep 2017","07 Sep 2017","08 Sep 2017","11 Sep 2017","12 Sep 2017","13 Sep 2017","14 Sep 2017","15 Sep 2017","18 Sep 2017","19 Sep 2017","20 Sep 2017","21 Sep 2017","22 Sep 2017","25 Sep 2017","26 Sep 2017","27 Sep 2017","28 Sep 2017","29 Sep 2017","03 Oct 2017","04 Oct 2017","05 Oct 2017","06 Oct 2017","09 Oct 2017","10 Oct 2017","11 Oct 2017","12 Oct 2017","13 Oct 2017","16 Oct 2017","17 Oct 2017","18 Oct 2017","19 Oct 2017","23 Oct 2017","24 Oct 2017","25 Oct 2017","26 Oct 2017","27 Oct 2017","30 Oct 2017","31 Oct 2017","01 Nov 2017","02 Nov 2017","03 Nov 2017","06 Nov 2017","07 Nov 2017","08 Nov 2017","09 Nov 2017","10 Nov 2017","13 Nov 2017","14 Nov 2017","15 Nov 2017","16 Nov 2017","17 Nov 2017","20 Nov 2017","21 Nov 2017","22 Nov 2017","23 Nov 2017","24 Nov 2017","27 Nov 2017","28 Nov 2017"]}};var e=C(4946),D=C(4882);let Q=(()=>{class o{ngOnInit(){this.chartOptions={series:[{name:"STOCK",data:N.monthDataSeries1.prices}],chart:{type:"area",height:350,zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Fundamental Analysis of Stocks",align:"left"},subtitle:{text:"Price Movements",align:"left"},labels:N.monthDataSeries1.dates,xaxis:{type:"datetime"},yaxis:{opposite:!0},legend:{horizontalAlign:"left"}}}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:4,vars:10,consts:[["id","chart",1,"container"],[3,"series","chart","xaxis","stroke","dataLabels","yaxis","labels","legend","title","subtitle"]],template:function(r,n){1&r&&(e.TgZ(0,"h1"),e._uU(1,"Dashboard"),e.qZA(),e.TgZ(2,"div",0),e._UZ(3,"apx-chart",1),e.qZA()),2&r&&(e.xp6(3),e.Q6J("series",n.chartOptions.series)("chart",n.chartOptions.chart)("xaxis",n.chartOptions.xaxis)("stroke",n.chartOptions.stroke)("dataLabels",n.chartOptions.dataLabels)("yaxis",n.chartOptions.yaxis)("labels",n.chartOptions.labels)("legend",n.chartOptions.legend)("title",n.chartOptions.title)("subtitle",n.chartOptions.subtitle))},dependencies:[D.x]})}return o})();var E=C(6306),k=C(5490),v=C(6593),x=C(6814);function Y(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",16),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",17)(14,"div",18),e._UZ(15,"img",19),e.qZA()(),e.TgZ(16,"td",20)(17,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.pageEditeProduct(n))}),e.TgZ(18,"span",22),e._UZ(19,"i",23),e.qZA()(),e.TgZ(20,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.deleteProduct(n))}),e.TgZ(21,"span",22),e._UZ(22,"i",25),e.qZA()()()()}if(2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.brand),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.stock),e.xp6(2),e.hij("$",t.PDA,""),e.xp6(2),e.hij("$ ",t.price,""),e.xp6(2),e.Oqu(t.promo?"$"+t.pricePromo:"---"),e.xp6(3),e.s9C("src",t.image,e.LSH),e.s9C("alt",t.name)}}function G(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Y,23,8,"tr",15),e.BQk()),2&o){const t=a.index,r=e.oxw();e.xp6(1),e.Q6J("ngIf",t>=(r.currentPage-1)*r.itemsPerPage&&t<r.currentPage*r.itemsPerPage)}}function H(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"li",8)(1,"a",26),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.currentPage=i)}),e._uU(2),e.qZA()()}if(2&o){const t=a.$implicit,r=e.oxw();e.xp6(1),e.ekj("active",r.currentPage===t),e.xp6(1),e.hij(" ",t," ")}}function L(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30)(4,"h5",31),e._uU(5,"Confirmar eliminaci\xf3n"),e.qZA(),e.TgZ(6,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.productToDelete=null)}),e.qZA()(),e.TgZ(7,"div",33),e._uU(8),e.qZA(),e.TgZ(9,"div",34)(10,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.productToDelete=null)}),e._uU(11," Cancelar "),e.qZA(),e.TgZ(12,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteConfirmed())}),e._uU(13," Eliminar "),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(8),e.hij(" \xbfEst\xe1s seguro de que deseas eliminar ",t.productToDelete.name,"? ")}}let j=(()=>{class o{constructor(t,r,n){this.CatalogoService=t,this.router=r,this.titleB=n,this.listProduct=[],this.itemsPerPage=8,this.currentPage=1,this.productToDelete=null}ngOnInit(){this.listAll(),this.getPages(),this.titleB.setTitle("Lista de Productos")}listAll(){this.CatalogoService.getAll().subscribe(t=>{t.forEach(r=>{r.updated_at=new Date(r.updated_at)}),t.sort((r,n)=>n.updated_at.getTime()-r.updated_at.getTime()),this.listProduct=t;for(let r=0;r<this.listProduct.length;r++)this.listProduct[r].PDA=t[r].cost_of_sale})}getTotalPages(){return Math.ceil(this.listProduct.length/this.itemsPerPage)}getPages(){return Array(this.getTotalPages()).fill(0).map((t,r)=>r+1)}deleteProduct(t){this.productToDelete=t}deleteConfirmed(){this.productToDelete&&(this.CatalogoService.delete(this.productToDelete.id).pipe((0,E.K)(t=>[])).subscribe(t=>{this.listAll()}),this.productToDelete=null)}pageEditeProduct(t){this.router.navigate(["admin/Product-Edit/"+t.id])}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(k.Z),e.Y36(M.F0),e.Y36(v.Dx))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-product-list"]],decls:40,vars:7,consts:[[1,"tittle"],[1,"tablaP"],[1,"table","table-striped","table-hover","table-light"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["aria-label","page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],[1,"sr-only"],["class","page-item",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["class","modal","tabindex","-1","role","dialog","style","display: block",4,"ngIf"],[4,"ngIf"],["scope","row"],[1,"imageP"],[1,"text-center","img-wrapper"],[1,"rounded","mx-auto","d-block",3,"src","alt"],[1,"mat-cell"],["type","button",1,"btn","btn-icon","btn-2","btn-warning",3,"click"],[1,"btn-inner--icon"],[1,"fa-solid","fa-pen-to-square",2,"color","#ffffff"],["type","button",1,"btn","btn-icon","btn-2","btn-danger",3,"click"],[1,"fas","fa-trash",2,"color","#ffffff"],[1,"page-link",3,"click"],["tabindex","-1","role","dialog",1,"modal",2,"display","block"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(r,n){1&r&&(e.TgZ(0,"h1",0),e._uU(1,"Lista de productos"),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"div",1)(4,"table",2)(5,"thead",3)(6,"tr")(7,"th",4),e._uU(8,"Marca"),e.qZA(),e.TgZ(9,"th",4),e._uU(10,"Nombre"),e.qZA(),e.TgZ(11,"th",4),e._uU(12,"Stock"),e.qZA(),e.TgZ(13,"th",4),e._uU(14,"PDA"),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"Precio"),e.qZA(),e.TgZ(17,"th",4),e._uU(18,"Precio Promo"),e.qZA(),e.TgZ(19,"th",4),e._uU(20,"Imagen"),e.qZA(),e._UZ(21,"th",4),e.qZA()(),e.TgZ(22,"tbody"),e.YNc(23,G,2,1,"ng-container",5),e.qZA()(),e.TgZ(24,"nav",6)(25,"ul",7)(26,"li",8)(27,"a",9),e.NdJ("click",function(){return n.currentPage=n.currentPage-1}),e.TgZ(28,"span",10),e._uU(29,"\xab"),e.qZA(),e.TgZ(30,"span",11),e._uU(31,"Previous"),e.qZA()()(),e.YNc(32,H,3,3,"li",12),e.TgZ(33,"li",8)(34,"a",13),e.NdJ("click",function(){return n.currentPage=n.currentPage+1}),e.TgZ(35,"span",10),e._uU(36,"\xbb"),e.qZA(),e.TgZ(37,"span",11),e._uU(38,"Next"),e.qZA()()()()()(),e.YNc(39,L,14,1,"div",14)),2&r&&(e.xp6(23),e.Q6J("ngForOf",n.listProduct),e.xp6(3),e.ekj("disabled",1===n.currentPage),e.xp6(6),e.Q6J("ngForOf",n.getPages()),e.xp6(1),e.ekj("disabled",n.currentPage===n.getTotalPages()),e.xp6(6),e.Q6J("ngIf",n.productToDelete))},dependencies:[x.sg,x.O5],styles:[".table[_ngcontent-%COMP%]{vertical-align:middle}.tittle[_ngcontent-%COMP%]{color:#034e53}.container[_ngcontent-%COMP%]{column-count:2}.img-wrapper[_ngcontent-%COMP%]{max-width:5em;height:5em;background:#fff;border-radius:7px;display:flex;justify-content:center}.imageP[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto}.tablaP[_ngcontent-%COMP%]{padding-bottom:2%}.fa-arrows-rotate[_ngcontent-%COMP%]{color:#fff}"]})}return o})();function J(o,a,t,r,n,i,l){try{var d=o[i](l),p=d.value}catch(m){return void t(m)}d.done?a(p):Promise.resolve(p).then(r,n)}function U(o){return function(){var a=this,t=arguments;return new Promise(function(r,n){var i=o.apply(a,t);function l(p){J(i,r,n,l,d,"next",p)}function d(p){J(i,r,n,l,d,"throw",p)}l(void 0)})}}var I=C(571),h=function(o){return o[o.Up=1]="Up",o[o.Down=3]="Down",o[o.Right=6]="Right",o[o.Left=8]="Left",o[o.UpMirrored=2]="UpMirrored",o[o.DownMirrored=4]="DownMirrored",o[o.LeftMirrored=5]="LeftMirrored",o[o.RightMirrored=7]="RightMirrored",o[o.Default=0]="Default",o[o.NotJpeg=-1]="NotJpeg",o[o.NotDefined=-2]="NotDefined",o}(h||{});class g{}g.getOrientation=o=>new Promise((a,t)=>{try{const r=new FileReader;r.onload=()=>{const n=new DataView(r.result);if(!n.byteLength||65496!==n.getUint16(0,!1))return a(h.NotDefined);const i=n.byteLength;let l=2;for(;l<i;){const d=n.getUint16(l,!1);if(l+=2,65505===d){if(1165519206!==n.getUint32(l+=2,!1))return a(h.NotJpeg);const p=18761===n.getUint16(l+=6,!1);l+=n.getUint32(l+4,p);const m=n.getUint16(l,p);l+=2;for(let c=0;c<m;c++)if(274===n.getUint16(l+12*c,p))return a(n.getUint16(l+12*c+8,p))}else{if(65280!=(65280&d))break;l+=n.getUint16(l,!1)}}return a(h.NotJpeg)},r.readAsArrayBuffer(o)}catch{return t(h.Default)}}),g.uploadFile=(o,a=!0,t=!1)=>new Promise(function(r,n){const i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),l=/iPad|iPhone|iPod/i.test(navigator.userAgent);Promise.resolve(i||l).then(d=>d?g.generateUploadInputNative(window.document,a,t):g.generateUploadInputRenderer(o,a,t)).then(d=>{const p=d?Array.from(d):[],m=p.map(f=>g.getOrientation(f)),c=p.map(f=>g.fileToDataURL(f));let s=[];Promise.all(m).then(f=>(s=f,Promise.all(c))).then(f=>{const _=f.map((Z,T)=>({image:Z.dataUrl,orientation:s[T],fileName:Z.fileName}));r(a?_:_[0])})}).catch(d=>n(d))}),g.fileToDataURL=o=>new Promise((a,t)=>{const r=new FileReader;r.onload=n=>{a({dataUrl:n.target.result,fileName:o.name})};try{r.readAsDataURL(o)}catch(n){t(`ngx-image-compress - probably no file have been selected: ${n}`)}}),g.generateUploadInputRenderer=(o,a=!0,t=!1)=>{let r=!1;return new Promise((n,i)=>{const l=o.createElement("input");o.setStyle(l,"display","none"),o.setProperty(l,"type","file"),o.setProperty(l,"accept","image/*"),a&&o.setProperty(l,"multiple","true"),o.listen(l,"click",d=>{d.target.value=""}),o.listen(l,"change",d=>{r=!0,n(d.target.files)}),t&&window.addEventListener("focus",()=>{setTimeout(()=>{r||i(new Error("file upload on blur - no file selected"))},300)},{once:!0}),l.click()})},g.generateUploadInputNative=(o,a=!0,t=!1)=>{let r=!1;return new Promise((n,i)=>{const l=o.createElement("input");l.id="upload-input"+new Date,l.style.display="none",l.setAttribute("type","file"),l.setAttribute("accept","image/*"),a&&l.setAttribute("multiple","true"),o.body.appendChild(l),l.addEventListener("change",()=>{r=!0,n(l.files),o.body.removeChild(o.getElementById(l.id))},{once:!0}),t&&window.addEventListener("focus",()=>{setTimeout(()=>{!r&&o.getElementById(l.id)&&(i(new Error("file upload on blur - no file selected")),o.body.removeChild(o.getElementById(l.id)))},300)},{once:!0}),l.click()})},g.compress=(o,a,t,r=50,n=50,i=0,l=0)=>new Promise(function(d,p){n/=100,r/=100;const m=new Image;m.onload=()=>{const c=t.createElement("canvas"),s=c.getContext("2d");if(!s)return p("No canvas context available");let f=m.naturalWidth,_=m.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(a===h.Right||a===h.Left)){const Qe=f;f=_,_=Qe}r=Math.min(r,i?i/f:1,l?l/_:1),c.width=f*r,c.height=_*r;const q=Math.PI/180;CSS.supports("image-orientation","from-image")||a===h.Up?s.drawImage(m,0,0,c.width,c.height):a===h.Right?(s.save(),s.rotate(90*q),s.translate(0,-c.width),s.drawImage(m,0,0,c.height,c.width),s.restore()):a===h.Left?(s.save(),s.rotate(-90*q),s.translate(-c.width,0),s.drawImage(m,0,0,c.height,c.width),s.restore()):a===h.Down?(s.save(),s.rotate(180*q),s.translate(-c.width,-c.height),s.drawImage(m,0,0,c.width,c.height),s.restore()):s.drawImage(m,0,0,c.width,c.height);const Fe=o.substr(5,o.split(";")[0].length-5),De=c.toDataURL(Fe,n);d(De)},m.onerror=c=>p(c),m.src=o}),g.byteCount=o=>encodeURI(o).split(/%..|./).length-1,g.getImageMaxSize=function(){var o=U(function*(a,t,r,n=!1){const l=m=>(m/1024/1024).toFixed(2);t&&console.debug("NgxImageCompress - Opening upload window");const d=yield g.uploadFile(r,!1,n);let p;for(let m=0;m<10;m++){const c=g.byteCount(d.image);p=yield g.compress(d.image,d.orientation,r,50,100);const s=g.byteCount(p);if(console.debug("NgxImageCompress -","Compression from",l(c),"MB to",l(s),"MB"),s>=c)throw 0===m?(t&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",l(c),"MB large"),{...d,image:p}):(t&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",l(c),"MB large"),{...d,image:p});if(s<1024*a*1024)return t&&console.debug("NgxImageCompress -","Here your file",l(s),"MB large"),{...d,image:p};if(9===m)throw t&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",l(c),"MB large"),{...d,image:p};t&&console.debug("NgxImageCompress -","Reached",l(s),"MB large. Trying another time after",m+1,"times"),d.image=p}throw t&&console.debug("NgxImageCompress - Unexpected error"),{}});return function(a,t,r){return o.apply(this,arguments)}}();let B=(()=>{class o{constructor(t){this.DOC_ORIENTATION=h,this.render=t.createRenderer(null,null)}byteCount(t){return g.byteCount(t)}getOrientation(t){return g.getOrientation(t)}uploadFile(){return g.uploadFile(this.render,!1)}uploadMultipleFiles(){return g.uploadFile(this.render,!0)}uploadFileOrReject(){return g.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return g.uploadFile(this.render,!0,!0)}compressFile(t,r,n=50,i=50,l=0,d=0){return g.compress(t,r,this.render,n,i,l,d)}uploadAndGetImageWithMaxSize(t=1,r=!1,n=!1){return g.getImageMaxSize(t,r,this.render,n).then(i=>i.image).catch(i=>{throw i.image})}uploadAndGetImageWithMaxSizeAndMetas(t=1,r=!1,n=!1){return g.getImageMaxSize(t,r,this.render,n)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(e.FYo))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var u=C(95);function W(o,a){if(1&o&&(e.TgZ(0,"div",62),e._UZ(1,"img",63),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.s9C("src",t.producto.image,e.LSH)}}function $(o,a){if(1&o&&(e.TgZ(0,"div",64),e._UZ(1,"img",63),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.preview,e.LSH)}}const b=function(){return{standalone:!0}};function z(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",65),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.producto.name=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.producto.name)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.producto.name)("ngModelOptions",e.DdM(2,b))}}function V(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",66),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newProducto.name=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.newProducto.name)}}function R(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.producto.brand=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.producto.brand)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.producto.brand)("ngModelOptions",e.DdM(2,b))}}function X(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newProducto.brand=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.newProducto.brand)}}function ee(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.producto.PDA=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.producto.PDA)}}function te(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.producto.PDA=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.producto.PDA)}}function ne(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.producto.price=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.producto.price)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.producto.price)("ngModelOptions",e.DdM(2,b))}}function oe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newProducto.price=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.newProducto.price)}}function re(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",72),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.producto.stock=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.producto.stock)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.producto.stock)("ngModelOptions",e.DdM(2,b))}}function ie(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newProducto.stock=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.newProducto.stock)}}function ae(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",74),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.producto.pricePromo=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.producto.brand)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.producto.pricePromo)("ngModelOptions",e.DdM(2,b))}}function le(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",75),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newProducto.pricePromo=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.newProducto.pricePromo)}}function de(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",76),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newProducto.pricePromo=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.newProducto.pricePromo)}}function ce(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"textarea",77),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.producto.description=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.producto.description)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.producto.description)("ngModelOptions",e.DdM(2,b))}}function se(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"textarea",78),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newProducto.description=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.newProducto.description)}}let O=(()=>{class o{constructor(t,r,n,i,l,d,p){this.LoadScript=t,this.santizer=r,this.router=n,this.route=i,this.CatalogoService=l,this.imageCompress=d,this.titleB=p,this.archivo=[],this.preview="",this.status=!1,this.newProducto={brand:"",name:"",promo:!1,description:"",PDA:0,categories:[]},this.category=[],this.idArray=[],this.extraerBase64=function(){var m=U(function*(c){return new Promise((s,f)=>{try{const _=new FileReader;return _.readAsDataURL(c),_.onload=()=>{s({base:_.result})},_.onerror=Z=>{s({base:null})},_}catch{return null}})});return function(c){return m.apply(this,arguments)}}(),t.Carga(["ValidacionProductAdd","ValidForm"])}cambi(){document.querySelector(".actPromo").style.display=this.newProducto.promo?"block":"none"}ngOnInit(){this.route.url.subscribe(t=>{"Product-Add"===t[0].path?this.status=!1:"Product-Edit"===t[0].path&&this.route.params.subscribe(r=>{this.idP=+r.numero,this.status=!0,this.cargarInfo()})})}cargarInfo(){this.CatalogoService.get("products/"+this.idP).subscribe(t=>{this.producto=t,this.newProducto.image=t.image,this.newProducto.promo=t.promo,this.producto.PDA=this.newProducto.PDA=t.cost_of_sale,this.cambi()}),this.CatalogoService.get("categories/"+this.idP).subscribe(t=>{this.category=t;for(const r of this.category)this.idArray.push(r.id),this.newProducto.categories=this.idArray})}newOrEditeProduct(){this.status?(this.newProducto.name=this.producto.name,this.newProducto.brand=this.producto.brand,this.newProducto.stock=this.producto.stock,this.newProducto.description=this.producto.description,this.newProducto.price=this.producto.price,this.newProducto.PDA=this.producto.PDA,this.producto.promo&&(this.newProducto.pricePromo=this.producto.pricePromo),this.newProducto.promo||(this.newProducto.pricePromo=0),this.CatalogoService.edit(this.newProducto,this.idP).subscribe(t=>{this.router.navigate(["admin/Product-List"])})):(this.newProducto.promo||(this.newProducto.pricePromo=0),this.CatalogoService.create(this.newProducto).subscribe(t=>{0===t.status&&this.router.navigate(["admin/Product-List"])}))}toggleCategory(t){this.newProducto.categories.includes(t)?this.newProducto.categories=this.newProducto.categories.filter(r=>r!==t):this.newProducto.categories.push(t)}capFile(t){const r=t.target.files[0];this.checkSize(r,614400),this.extraerBase64(r).then(i=>{this.preview=i.base,this.newProducto.image=i.base})}pageListProduc(){this.router.navigate(["admin/Warehouse"])}checkSize(t,r){console.log(t),t.size>r?t.size>2e6?(console.log("mayor  1ue A"),this.compressedImage(t,50)):(console.log("maenor qur a"),this.compressedImage(t,600)):this.extraerBase64(t).then(n=>{console.log("saltamos"),this.newProducto.image=n.base})}compressedImage(t,r){const n=new FileReader;n.onload=()=>{this.imageCompress.compressFile(n.result,-1,r,r).then(l=>{this.newProducto.image=l,console.log("andamos ")})},n.readAsDataURL(t)}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(I.G),e.Y36(v.H7),e.Y36(M.F0),e.Y36(M.gz),e.Y36(k.Z),e.Y36(B),e.Y36(v.Dx))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-product-add"]],decls:102,vars:29,consts:[[1,"tittle"],[1,"containerForm"],[1,"contenedorImgText"],[1,"cargarImagen"],[1,"addimg"],["type","file","name","addimg","id","file","accept","image/*","onchange","return validFile()","required","",3,"change"],["for","file",1,"upload"],["class","capFile",4,"ngIf"],["class","capFile","id","capFile",4,"ngIf"],[1,"parte1"],[1,"input-group","mb-3","nombreP","config"],["for","name",1,"form-label"],["class","form-control","id","name","name","name","maxlength","20","placeholder","Ej. Cuaderno Profesional","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","form-control","type","text","id","name","name","name","maxlength","20","placeholder","Ej. Cuaderno Profesional","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"input-group","mb-3","marcaP","config"],["for","brand",1,"form-label"],["class","form-control","type","text","id","brand","name","brand","maxlength","10","placeholder","Ej. Scribe","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","form-control","type","text","id","brand","name","brand","maxlength","10","placeholder","Ej. Scribe","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"input-group","col-md-6","precioP","config"],["for","priceA","name","priceA",1,"form-label"],[1,"input-group-text"],["class","form-control","type","text","id","priceA","name","priceA","placeholder","42.99","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"input-group","col-md-6precioP","config"],["for","price","name","price",1,"form-label"],["class","form-control","type","text","id","price","name","price","maxlength","10","placeholder","00.00","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","form-control","type","text","id","price","name","price","maxlength","10","placeholder","85.00","required--","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"input-group","mb-3","stockP","config"],["for","stock",1,"form-label"],["class","form-control","type","text","inputmode","numeric","name","stocks","maxlength","10","id","stock","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","form-control","type","text","inputmode","numeric","id","stock","name","stocks","maxlength","10","placeholder","Ej. 48","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"promoDiv"],[1,"form-check","form-switch","switch-product"],["for","flexSwitchCheckDefault",1,"form-check-label"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"input-group","mb-3","config"],["for","desc2","name","price",1,"form-label"],["class","form-control","type","text","maxlength","10","name","promo2","id","desc2",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","form-control","type","text","maxlength","10","name","promo2","id","desc2","placeholder","00.00",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","type","text","maxlength","10","name","promo2","id","desc2","placeholder","70.50",3,"ngModel","ngModelChange",4,"ngIf"],[1,"addDescp"],["for","descp",1,"descripcion"],["class","form-control","name","descp","id","descp","rows","3","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["class","form-control","name","descp","id","descp","rows","3","maxlength","150","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"formulario"],[1,"CatSelect"],["for","catSelect"],[1,"checkCat"],[1,"form-check"],["type","checkbox","name","papel","id","flexCheckDefault1","value","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","promo","for","flexCheckDefault",1,"form-check-label"],["type","checkbox","name","escolar","id","flexCheckDefault2","value","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","promo",1,"form-check-label"],["type","checkbox","name","arte ","id","flexCheckDefault3","value","",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexCheckDefault",1,"form-check-label"],["type","checkbox","name","promo","id","flexCheckDefault4","value","",1,"form-check-input",3,"ngModel","ngModelChange"],["type","checkbox","name","promo","id","flexCheckDefault5","value","",1,"form-check-input",3,"ngModel","ngModelChange"],["type","checkbox","name","promo","id","flexCheckDefault6","value","",1,"form-check-input",3,"ngModel","ngModelChange"],["type","checkbox","name","promo","id","flexCheckDefault7","value","",1,"form-check-input",3,"ngModel","ngModelChange"],["type","checkbox","name","promo","id","flexCheckDefault8","value","",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"buttons"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"capFile"],["alt","",3,"src"],["id","capFile",1,"capFile"],["id","name","name","name","maxlength","20","placeholder","Ej. Cuaderno Profesional","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","id","name","name","name","maxlength","20","placeholder","Ej. Cuaderno Profesional","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","brand","name","brand","maxlength","10","placeholder","Ej. Scribe","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","id","brand","name","brand","maxlength","10","placeholder","Ej. Scribe","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","priceA","name","priceA","placeholder","42.99","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","price","name","price","maxlength","10","placeholder","00.00","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","id","price","name","price","maxlength","10","placeholder","85.00","required--","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","inputmode","numeric","name","stocks","maxlength","10","id","stock","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","inputmode","numeric","id","stock","name","stocks","maxlength","10","placeholder","Ej. 48","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","maxlength","10","name","promo2","id","desc2",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","maxlength","10","name","promo2","id","desc2","placeholder","00.00",1,"form-control",3,"ngModel","ngModelChange"],["type","text","maxlength","10","name","promo2","id","desc2","placeholder","70.50",1,"form-control",3,"ngModel","ngModelChange"],["name","descp","id","descp","rows","3","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["name","descp","id","descp","rows","3","maxlength","150","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(r,n){1&r&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"input",5),e.NdJ("change",function(l){return n.capFile(l)}),e.qZA(),e.TgZ(8,"label",6),e._uU(9),e.qZA()(),e.YNc(10,W,2,1,"div",7),e.YNc(11,$,2,1,"div",8),e.qZA(),e.TgZ(12,"div",9)(13,"div",10)(14,"label",11),e._uU(15,"Nombre:"),e.qZA(),e.YNc(16,z,1,3,"input",12),e.YNc(17,V,1,1,"input",13),e.qZA(),e.TgZ(18,"div",14)(19,"label",15),e._uU(20,"Marca:"),e.qZA(),e.YNc(21,R,1,3,"input",16),e.YNc(22,X,1,1,"input",17),e.qZA(),e.TgZ(23,"div",18)(24,"label",19),e._uU(25,"PDA:"),e.qZA(),e.TgZ(26,"span",20),e._uU(27,"$"),e.qZA(),e.YNc(28,ee,1,1,"input",21),e.YNc(29,te,1,1,"input",21),e.qZA(),e.TgZ(30,"div",22)(31,"label",23),e._uU(32,"Precio:"),e.qZA(),e.TgZ(33,"span",20),e._uU(34,"$"),e.qZA(),e.YNc(35,ne,1,3,"input",24),e.YNc(36,oe,1,1,"input",25),e.qZA(),e.TgZ(37,"div",26)(38,"label",27),e._uU(39,"Stock:"),e.qZA(),e.YNc(40,re,1,3,"input",28),e.YNc(41,ie,1,1,"input",29),e.qZA(),e.TgZ(42,"div",30)(43,"div",31)(44,"label",32),e._uU(45,"Promocion"),e.qZA(),e.TgZ(46,"input",33),e.NdJ("ngModelChange",function(l){return n.newProducto.promo=l}),e.qZA()(),e.TgZ(47,"div",34)(48,"label",35),e._uU(49,"Dto:"),e.qZA(),e.TgZ(50,"span",20),e._uU(51,"$"),e.qZA(),e.YNc(52,ae,1,3,"input",36),e.YNc(53,le,1,1,"input",37),e.YNc(54,de,1,1,"input",38),e.qZA()(),e.TgZ(55,"div",39)(56,"label",40),e._uU(57,"Descripcion:"),e.qZA(),e.YNc(58,ce,1,3,"textarea",41),e.YNc(59,se,1,1,"textarea",42),e.qZA()()(),e.TgZ(60,"div",43)(61,"div",44)(62,"label",45),e._uU(63,"Selecciona la opci\xf3n categoria:"),e.qZA(),e.TgZ(64,"div",46)(65,"div",47)(66,"input",48),e.NdJ("ngModelChange",function(){return n.toggleCategory(1)}),e.qZA(),e.TgZ(67,"label",49),e._uU(68,"Papel"),e.qZA()(),e.TgZ(69,"div",47)(70,"input",50),e.NdJ("ngModelChange",function(){return n.toggleCategory(2)}),e.qZA(),e.TgZ(71,"label",51),e._uU(72,"Escolares"),e.qZA()(),e.TgZ(73,"div",47)(74,"input",52),e.NdJ("ngModelChange",function(){return n.toggleCategory(3)}),e.qZA(),e.TgZ(75,"label",53),e._uU(76,"Artes"),e.qZA()(),e.TgZ(77,"div",47)(78,"input",54),e.NdJ("ngModelChange",function(){return n.toggleCategory(4)}),e.qZA(),e.TgZ(79,"label",53),e._uU(80,"Escritura"),e.qZA()(),e.TgZ(81,"div",47)(82,"input",55),e.NdJ("ngModelChange",function(){return n.toggleCategory(5)}),e.qZA(),e.TgZ(83,"label",53),e._uU(84,"Oficina"),e.qZA()(),e.TgZ(85,"div",47)(86,"input",56),e.NdJ("ngModelChange",function(){return n.toggleCategory(6)}),e.qZA(),e.TgZ(87,"label",53),e._uU(88,"Manualidades"),e.qZA()(),e.TgZ(89,"div",47)(90,"input",57),e.NdJ("ngModelChange",function(){return n.toggleCategory(7)}),e.qZA(),e.TgZ(91,"label",53),e._uU(92,"Did\xe1cticos"),e.qZA()(),e.TgZ(93,"div",47)(94,"input",58),e.NdJ("ngModelChange",function(){return n.toggleCategory(8)}),e.qZA(),e.TgZ(95,"label",53),e._uU(96,"Adhesivos"),e.qZA()()()()(),e.TgZ(97,"div",59)(98,"button",60),e.NdJ("click",function(){return n.newOrEditeProduct()}),e._uU(99),e.qZA(),e.TgZ(100,"button",61),e.NdJ("click",function(){return n.pageListProduc()}),e._uU(101,"Cancelar"),e.qZA()()()),2&r&&(e.xp6(1),e.Oqu(n.status?"Editar Producto":"Agregar Producto"),e.xp6(8),e.Oqu(n.status?"Editar Imagen":"Seleccionar Imagen"),e.xp6(1),e.Q6J("ngIf",n.status&&!n.preview),e.xp6(1),e.Q6J("ngIf",n.preview),e.xp6(5),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(4),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(6),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(6),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(4),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(5),e.Q6J("ngModel",n.newProducto.promo),e.xp6(6),e.Q6J("ngIf",n.status&&n.producto.promo),e.xp6(1),e.Q6J("ngIf",n.status&&!n.producto.promo),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(4),e.Q6J("ngIf",n.status),e.xp6(1),e.Q6J("ngIf",!n.status),e.xp6(7),e.Q6J("ngModel",n.idArray.includes(1)),e.xp6(4),e.Q6J("ngModel",n.idArray.includes(2)),e.xp6(4),e.Q6J("ngModel",n.idArray.includes(3)),e.xp6(4),e.Q6J("ngModel",n.idArray.includes(4)),e.xp6(4),e.Q6J("ngModel",n.idArray.includes(5)),e.xp6(4),e.Q6J("ngModel",n.idArray.includes(6)),e.xp6(4),e.Q6J("ngModel",n.idArray.includes(7)),e.xp6(4),e.Q6J("ngModel",n.idArray.includes(8)),e.xp6(5),e.Oqu(n.status?"Actualizar":"Agregar"))},dependencies:[x.O5,u.Fj,u.Wl,u.JJ,u.Q7,u.nD,u.On],styles:[".containerForm[_ngcontent-%COMP%]   .promoDiv[_ngcontent-%COMP%]   .promo[_ngcontent-%COMP%]{margin-right:10px}.containerForm[_ngcontent-%COMP%]   .promoDiv[_ngcontent-%COMP%]   .actPromo[_ngcontent-%COMP%]{display:none}.containerForm[_ngcontent-%COMP%]{width:90%;height:95%;max-width:1000px;margin:auto;position:relative}.containerForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}.containerForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.texto[_ngcontent-%COMP%]{margin-bottom:2%}.parte1[_ngcontent-%COMP%]{width:100%;max-width:600px;height:400px;padding:5px 10px}@media screen and (max-height: 900px){.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:85%}}.cargarImagen[_ngcontent-%COMP%]{width:300px;height:400px;padding:5px;border:2px dashed #d7dbdd;text-align:center}.addimg[_ngcontent-%COMP%], .capFile[_ngcontent-%COMP%]{width:90%}.addimg[_ngcontent-%COMP%]{margin:auto}.capFile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:50%;max-height:350px;border-radius:5%;margin:0 15px}.capFile[_ngcontent-%COMP%]{margin-top:7px}.cargarImagen[_ngcontent-%COMP%], .parte1[_ngcontent-%COMP%]{display:inline-block}.contenedorImgText[_ngcontent-%COMP%]{width:100%;max-height:400px;display:inline-flex;margin-bottom:10px}.upload[_ngcontent-%COMP%]{width:100%;background:#0dcaf0;border:none;cursor:pointer;padding:2px 0;display:flex;border-radius:7px;justify-content:center;max-width:250px}.upload[_ngcontent-%COMP%]:hover{background:#4dddfa}.addimg[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.parte1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:85px;font-size:18px;margin:0 15px}.parte1[_ngcontent-%COMP%]   #desc[_ngcontent-%COMP%]{width:80%;padding:2px 3px}.config[_ngcontent-%COMP%]{margin:15px 0}.promoDiv[_ngcontent-%COMP%]   .switch-product[_ngcontent-%COMP%], .promoDiv[_ngcontent-%COMP%]   .actPromo[_ngcontent-%COMP%]{margin-left:20px}.promoDiv[_ngcontent-%COMP%]{width:100%;max-width:600px}.promoDiv[_ngcontent-%COMP%]   .actPromo[_ngcontent-%COMP%]   #desc[_ngcontent-%COMP%]{width:110px;margin:0}.promoDiv[_ngcontent-%COMP%]   .actPromo[_ngcontent-%COMP%]   #desc2[_ngcontent-%COMP%]{width:80%;padding:2px 3px}.formulario[_ngcontent-%COMP%]{width:100%;max-height:230px;display:inline-flex}.formulario[_ngcontent-%COMP%]   .CatSelect[_ngcontent-%COMP%], .addDescp[_ngcontent-%COMP%]{display:inline-block}.formulario[_ngcontent-%COMP%]   .CatSelect[_ngcontent-%COMP%]{margin-right:25px}.addDescp[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px;margin:0 15px 15px}.addDescp[_ngcontent-%COMP%]   #descp[_ngcontent-%COMP%]{width:100%;padding:2px 3px;height:7.5rem;margin-left:15px}.addDescp[_ngcontent-%COMP%]{width:100%;max-width:600px}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}textarea[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return o})();var S=C(9862);let w=(()=>{class o{constructor(t){this.http=t,this.apiUrl="http://127.0.0.1:8000/api/supplier"}create(t){return this.http.post(this.apiUrl,t)}read(t){return this.http.get(this.apiUrl+"/"+t)}update(t,r){return this.http.put(this.apiUrl+"/"+r,t)}delete(t){return this.http.delete(this.apiUrl+"/"+t)}showAll(){return this.http.get(this.apiUrl)}business(){return this.http.get(this.apiUrl+"s")}static#e=this.\u0275fac=function(r){return new(r||o)(e.LFG(S.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const P=function(){return{standalone:!0}};function pe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.supplierInfo.business=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.supplierInfo.business)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.supplierInfo.business)("ngModelOptions",e.DdM(2,P))}}function ue(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.supplierInfo.business=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.supplierInfo.business)}}function ge(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.supplierInfo.email=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.supplierInfo.email)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.supplierInfo.email)("ngModelOptions",e.DdM(2,P))}}function me(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.supplierInfo.email=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.supplierInfo.email)}}function _e(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.supplierInfo.phone=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.supplierInfo.phone)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.supplierInfo.phone)("ngModelOptions",e.DdM(2,P))}}function he(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.supplierInfo.phone=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.supplierInfo.phone)}}function fe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"textarea",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.supplierInfo.address=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.supplierInfo.address)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.supplierInfo.address)("ngModelOptions",e.DdM(2,P))}}function Ce(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"textarea",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.supplierInfo.address=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.supplierInfo.address)}}let xe=(()=>{class o{constructor(t){this.supplierService=t,this.isNew=1,this.edit=!1,this.supplierInfo={business:"",name:"",lastName:"",email:"",address:"",id:1,created_at:new Date,updated_at:new Date}}ngOnChanges(){this.comprobar(this.isNew)}comprobar(t){0==t?this.mensaje="Agregar":(this.mensaje="Guardar",this.edit=!0,this.editarInfo(t))}editarInfo(t){this.supplierService.read(t).subscribe(r=>{this.supplierInfo=r})}supplierAction(){this.edit?this.editSupplier(this.isNew):this.newSupplier()}newSupplier(){this.supplierService.create(this.supplierInfo).subscribe(t=>{console.log(t),location.reload()})}editSupplier(t){this.supplierService.update(this.supplierInfo,t).subscribe(r=>{console.log(r)})}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(w))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-supplier-add"]],inputs:{isNew:"isNew"},features:[e.TTD],decls:36,vars:9,consts:[["novalidate","",1,"row","g-3","needs-validation","mx-auto"],[1,"col-md-12","position-relative"],["for","provee",1,"form-label","fw-bold"],["type","text","id","provee","class","form-control","placeholder","Papeleria Tony","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["type","text","name","bussines","id","provee","class","form-control","placeholder","Papeleria Tony","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"invalid-tooltip"],[1,"col-md-7","position-relative"],["for","correo",1,"form-label","fw-bold"],["type","email","class","form-control","id","correo","placeholder","admin.01@compas.com","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["type","email","name","email","class","form-control","id","correo","placeholder","admin.01@compas.com","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-md-5","position-relative"],["for","number",1,"form-label","fw-bold"],["type","text","onkeypress","return '0123456789'.includes(event.key)","class","form-control","id","number","placeholder","123 357 6518","required","","maxLength","10",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["type","text","onkeypress","return '0123456789'.includes(event.key)","name","phone","class","form-control","id","number","placeholder","123 357 6518","required","","maxLength","10",3,"ngModel","ngModelChange",4,"ngIf"],["for","direc",1,"form-label","fw-bold"],["type","text","class","form-control","id","direc",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["type","text","name","address","class","form-control","id","direc",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-success","col-3",3,"click"],[1,"fa-solid","fa-check"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","col-3"],[1,"fa-solid","fa-xmark"],["type","text","id","provee","placeholder","Papeleria Tony","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","name","bussines","id","provee","placeholder","Papeleria Tony","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","correo","placeholder","admin.01@compas.com","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","email","name","email","id","correo","placeholder","admin.01@compas.com","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","onkeypress","return '0123456789'.includes(event.key)","id","number","placeholder","123 357 6518","required","","maxLength","10",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","onkeypress","return '0123456789'.includes(event.key)","name","phone","id","number","placeholder","123 357 6518","required","","maxLength","10",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","direc",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","name","address","id","direc",1,"form-control",3,"ngModel","ngModelChange"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"div",1)(2,"label",2),e._uU(3,"Proveedor"),e.qZA(),e.YNc(4,pe,1,3,"input",3),e.YNc(5,ue,1,1,"input",4),e.TgZ(6,"div",5),e._uU(7,"Ingrese el nombre de la compa\xf1ia del proveedor"),e.qZA()(),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Correo Electr\xf3nico"),e.qZA(),e.YNc(11,ge,1,3,"input",8),e.YNc(12,me,1,1,"input",9),e.TgZ(13,"div",5),e._uU(14,"Ingrese un e-mail"),e.qZA()(),e.TgZ(15,"div",10)(16,"label",11),e._uU(17,"Telefono"),e.qZA(),e.YNc(18,_e,1,3,"input",12),e.YNc(19,he,1,1,"input",13),e.TgZ(20,"div",5),e._uU(21,"Telefono obligatorio"),e.qZA()(),e.TgZ(22,"div",1)(23,"label",14),e._uU(24,"Direcci\xf3n"),e.qZA(),e.YNc(25,fe,1,3,"textarea",15),e.YNc(26,Ce,1,1,"textarea",16),e.TgZ(27,"div",5),e._uU(28,"Falta agregar la direcci\xf3n"),e.qZA()(),e.TgZ(29,"div",17)(30,"button",18),e.NdJ("click",function(){return n.supplierAction()}),e._UZ(31,"i",19),e._uU(32),e.qZA(),e.TgZ(33,"button",20),e._UZ(34,"i",21),e._uU(35," Close "),e.qZA()()()),2&r&&(e.xp6(4),e.Q6J("ngIf",n.edit),e.xp6(1),e.Q6J("ngIf",!n.edit),e.xp6(6),e.Q6J("ngIf",n.edit),e.xp6(1),e.Q6J("ngIf",!n.edit),e.xp6(6),e.Q6J("ngIf",n.edit),e.xp6(1),e.Q6J("ngIf",!n.edit),e.xp6(6),e.Q6J("ngIf",n.edit),e.xp6(1),e.Q6J("ngIf",!n.edit),e.xp6(6),e.hij(" ",n.mensaje," "))},dependencies:[x.O5,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.On,u.F]})}return o})();function Me(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",29),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",30)(10,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.modalNew(!1))})("click",function(){e.CHM(t);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.idSupp(n.id))}),e.TgZ(11,"span",4),e._UZ(12,"i",32),e.qZA()(),e.TgZ(13,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,i=e.oxw();return e.KtG(i.deleteSupplier(n.id))}),e.TgZ(14,"span",4),e._UZ(15,"i",34),e.qZA()()()()}if(2&o){const t=e.oxw().$implicit,r=e.oxw();e.xp6(2),e.Oqu(t.business),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(r.formatoPhone(t.phone)),e.xp6(2),e.Oqu(t.address)}}function be(o,a){if(1&o&&(e.ynx(0),e.YNc(1,Me,16,4,"tr",28),e.BQk()),2&o){const t=a.index,r=e.oxw();e.xp6(1),e.Q6J("ngIf",t>=(r.currentPage-1)*r.itemsPerPage&&t<r.currentPage*r.itemsPerPage)}}function Ze(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",35),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.currentPage=i)}),e._uU(2),e.qZA()()}if(2&o){const t=a.$implicit,r=e.oxw();e.xp6(1),e.ekj("active",r.currentPage===t),e.xp6(1),e.hij(" ",t," ")}}function Pe(o,a){1&o&&e._UZ(0,"app-supplier-add",36),2&o&&e.Q6J("isNew",0)}function Ae(o,a){if(1&o&&e._UZ(0,"app-supplier-add",36),2&o){const t=e.oxw();e.Q6J("isNew",t.idS)}}let ve=(()=>{class o{constructor(t,r,n){this.SupplierService=t,this.router=r,this.LoadScript=n,this.listSuppliers=[],this.itemsPerPage=20,this.currentPage=1,n.Carga(["Boostrap5-3","ValidarRegistro"])}ngOnInit(){this.listAll(),this.getPages()}listAll(){this.SupplierService.showAll().subscribe(t=>{t.forEach(r=>{r.updated_at=new Date(r.updated_at)}),t.sort((r,n)=>n.updated_at.getTime()-r.updated_at.getTime()),this.listSuppliers=t})}formatoPhone(t){if(void 0===t)return"";const r=t.toString();return r.slice(0,3)+" "+r.slice(3,6)+" "+r.slice(6)}getTotalPages(){return Math.ceil(this.listSuppliers.length/this.itemsPerPage)}getPages(){return Array(this.getTotalPages()).fill(0).map((t,r)=>r+1)}modalNew(t){this.isNew=t,this.mensaje=t?"Agregar Proveedor":"Editar informaci\xf3n de proovedor",console.log(this.isNew)}idSupp(t){this.idS=t}deleteSupplier(t){this.SupplierService.delete(t).subscribe(r=>{console.log(r)})}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(w),e.Y36(M.F0),e.Y36(I.G))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-supplier"]],decls:52,vars:9,consts:[[1,"tittle"],[1,"container-fluid"],[1,"container"],["type","button","data-bs-toggle","modal","data-bs-target","#ModalProveedor",1,"btn","btn-icon","btn-outline-success",3,"click"],[1,"btn-inner--icon"],[1,"fas","fa-user-plus"],[1,"btn-inner--text"],[1,"tablaP"],[1,"table","table-striped","table-hover","table-light"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["aria-label","page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],[1,"sr-only"],["class","page-item",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["id","ModalProveedor","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[3,"isNew",4,"ngIf"],[4,"ngIf"],["scope","row"],[1,"mat-cell"],["data-bs-toggle","modal","data-bs-target","#ModalProveedor","type","button",1,"btn","btn-icon","btn-2","btn-warning",3,"click"],[1,"fa-solid","fa-pen-to-square",2,"color","#ffffff"],["type","button",1,"btn","btn-icon","btn-2","btn-danger",3,"click"],[1,"fa-solid","fa-xmark",2,"color","#ffffff"],[1,"page-link",3,"click"],[3,"isNew"]],template:function(r,n){1&r&&(e.TgZ(0,"h1",0),e._uU(1,"Lista de Proveedores"),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"div",1)(4,"div",2)(5,"div")(6,"button",3),e.NdJ("click",function(){return n.modalNew(!0)}),e.TgZ(7,"span",4),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"span",6),e._uU(10," Agregar Proveedor "),e.qZA()()()()(),e._UZ(11,"br"),e.TgZ(12,"div",7)(13,"table",8)(14,"thead",9)(15,"tr")(16,"th",10),e._uU(17,"Proveedor"),e.qZA(),e.TgZ(18,"th",10),e._uU(19,"Correo"),e.qZA(),e.TgZ(20,"th",10),e._uU(21,"Numero"),e.qZA(),e.TgZ(22,"th",10),e._uU(23,"Direcci\xf3n"),e.qZA(),e._UZ(24,"th",10),e.qZA()(),e.TgZ(25,"tbody"),e.YNc(26,be,2,1,"ng-container",11),e.qZA()(),e.TgZ(27,"nav",12)(28,"ul",13)(29,"li",14)(30,"a",15),e.NdJ("click",function(){return n.currentPage=n.currentPage-1}),e.TgZ(31,"span",16),e._uU(32,"\xab"),e.qZA(),e.TgZ(33,"span",17),e._uU(34,"Previous"),e.qZA()()(),e.YNc(35,Ze,3,3,"li",18),e.TgZ(36,"li",14)(37,"a",19),e.NdJ("click",function(){return n.currentPage=n.currentPage+1}),e.TgZ(38,"span",16),e._uU(39,"\xbb"),e.qZA(),e.TgZ(40,"span",17),e._uU(41,"Next"),e.qZA()()()()()(),e.TgZ(42,"div",20)(43,"div",21)(44,"div",22)(45,"div",23)(46,"h4",24),e._uU(47),e.qZA(),e._UZ(48,"button",25),e.qZA(),e.TgZ(49,"div",26),e.YNc(50,Pe,1,1,"app-supplier-add",27),e.YNc(51,Ae,1,1,"app-supplier-add",27),e.qZA()()()()),2&r&&(e.xp6(26),e.Q6J("ngForOf",n.listSuppliers),e.xp6(3),e.ekj("disabled",1===n.currentPage),e.xp6(6),e.Q6J("ngForOf",n.getPages()),e.xp6(1),e.ekj("disabled",n.currentPage===n.getTotalPages()),e.xp6(11),e.Oqu(n.mensaje),e.xp6(3),e.Q6J("ngIf",n.isNew),e.xp6(1),e.Q6J("ngIf",!n.isNew))},dependencies:[x.sg,x.O5,xe],styles:[".table[_ngcontent-%COMP%]{vertical-align:middle}.tittle[_ngcontent-%COMP%]{color:#034e53}.container[_ngcontent-%COMP%]{column-count:2}.modal-dialog[_ngcontent-%COMP%]{position:relative;z-index:1}"]})}return o})(),F=(()=>{class o{constructor(t){this.http=t,this.apiUrl="http://127.0.0.1:8000/api/warehouse/"}add(t){return this.http.post(this.apiUrl+"add",t)}read(t){return this.http.get(this.apiUrl+"show/"+t)}update(t,r){return this.http.put(this.apiUrl+"update/"+r,t)}delete(t){return this.http.delete(this.apiUrl+"delete/"+t)}showAll(){return this.http.get(this.apiUrl+"showAll")}updateQ(t,r){return this.http.put(this.apiUrl+"updateQ/"+r,t)}static#e=this.\u0275fac=function(r){return new(r||o)(e.LFG(S.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const A=function(){return{standalone:!0}};function we(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.product.name)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.product.name)("ngModelOptions",e.DdM(2,A))}}function Te(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.product.name)}}function qe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.brand=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.product.brand)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.product.brand)("ngModelOptions",e.DdM(2,A))}}function ye(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.brand=n)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.product.brand)}}function Ne(o,a){if(1&o&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}let ke=(()=>{class o{constructor(t,r){this.bodegaService=t,this.supplierService=r,this.isNew=!1,this.productWarehouse=0,this.product={id:0,brand:"",name:"",quantity:0,amount:0,price:0,supplier_id:0,supplier:"",created_at:new Date,updated_at:new Date},this.business=[]}ngOnChanges(){this.comprobar(this.isNew),this.importe()}ngOnInit(){this.comprobar(this.isNew),this.importe(),this.showBusiness()}comprobar(t){1==t?this.mensaje="Agregar":(this.mensaje="Guardar",this.productWarehouse>0&&this.info(this.productWarehouse))}supplierAction(){this.isNew?(this.product.amount=this.importe(),console.log(this.product),this.newProduct()):(this.product.amount=this.importe(),this.updateProduct(this.productWarehouse))}newProduct(){this.bodegaService.add(this.product).subscribe(t=>{console.log(t),location.reload()})}updateProduct(t){this.bodegaService.update(this.product,t).subscribe(r=>{console.log(r),location.reload()})}info(t){this.bodegaService.read(t).subscribe(r=>{this.product=r,this.product.supplier=r.supplier.business})}importe(){return this.product.quantity>0&&this.product.price>0?this.product.quantity*this.product.price:0}showBusiness(){this.supplierService.business().subscribe(t=>{this.business=t.business})}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(F),e.Y36(w))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-warehouse-add"]],inputs:{isNew:"isNew",productWarehouse:"productWarehouse"},features:[e.TTD],decls:47,vars:14,consts:[["novalidate","",1,"row","g-3","needs-validation","mx-auto"],[1,"col-md-12","position-relative"],["for","name",1,"form-label","fw-bold"],["type","text","id","name","name","name","class","form-control","placeholder","Boligrafo Punta Fina","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["type","text","id","name","name","name","class","form-control","placeholder","Boligrafo Punta Fina","required","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"invalid-tooltip"],[1,"col-md-6","position-relative"],["for","marca",1,"form-label","fw-bold"],["type","text","id","marca","name","brand","class","form-control","placeholder","PaperMate","required","",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["type","text","id","marca","name","brand","class","form-control","placeholder","PaperMate","required","",3,"ngModel","ngModelChange",4,"ngIf"],["for","provee",1,"form-label","fw-bold"],["name","supplier","id","provee","aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["for","cant",1,"form-label","fw-bold"],["type","text","id","cant","onkeypress","return '0123456789'.includes(event.key)","placeholder","50","maxlength","10","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","price","name","price",1,"form-label","fw-bold"],[1,"input-group"],[1,"input-group-text"],["onkeypress","return '0123456789.'.includes(event.key)","type","text","id","price","name","price","maxlength","10","placeholder","15.78","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"fw-bold"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-success","col-3",3,"click"],[1,"fa-solid","fa-check"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","col-3"],[1,"fa-solid","fa-xmark"],["type","text","id","name","name","name","placeholder","Boligrafo Punta Fina","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","id","name","name","name","placeholder","Boligrafo Punta Fina","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","marca","name","brand","placeholder","PaperMate","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","id","marca","name","brand","placeholder","PaperMate","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"]],template:function(r,n){1&r&&(e.TgZ(0,"form",0)(1,"div",1)(2,"label",2),e._uU(3,"Nombre"),e.qZA(),e.YNc(4,we,1,3,"input",3),e.YNc(5,Te,1,1,"input",4),e.TgZ(6,"div",5),e._uU(7,"Ingrese el nombre del producto"),e.qZA()(),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Marca"),e.qZA(),e.YNc(11,qe,1,3,"input",8),e.YNc(12,ye,1,1,"input",9),e.TgZ(13,"div",5),e._uU(14,"Ingrese la marca del producto"),e.qZA()(),e.TgZ(15,"div",6)(16,"label",10),e._uU(17,"Proveedor"),e.qZA(),e.TgZ(18,"select",11),e.NdJ("ngModelChange",function(l){return n.product.supplier=l}),e.TgZ(19,"option",12),e._uU(20,"Proveedor"),e.qZA(),e.YNc(21,Ne,2,2,"option",13),e.qZA()(),e.TgZ(22,"div",6)(23,"label",14),e._uU(24,"Cantidad"),e.qZA(),e.TgZ(25,"input",15),e.NdJ("ngModelChange",function(l){return n.product.quantity=l})("ngModelChange",function(){return n.product.quantity}),e.qZA(),e.TgZ(26,"div",5),e._uU(27,"Ingrese la cantidad de productos"),e.qZA()(),e.TgZ(28,"div",6)(29,"label",16),e._uU(30,"Precio"),e.qZA(),e.TgZ(31,"div",17)(32,"span",18),e._uU(33,"$"),e.qZA(),e.TgZ(34,"input",19),e.NdJ("ngModelChange",function(l){return n.product.price=l})("ngModelChange",function(){return n.product.price}),e.qZA()()(),e.TgZ(35,"div",20)(36,"h5",21),e._uU(37,"Importe: "),e.qZA(),e.TgZ(38,"h5"),e._uU(39),e.qZA()(),e.TgZ(40,"div",20)(41,"button",22),e.NdJ("click",function(){return n.supplierAction()}),e._UZ(42,"i",23),e._uU(43),e.qZA(),e.TgZ(44,"button",24),e._UZ(45,"i",25),e._uU(46," Close "),e.qZA()()()),2&r&&(e.xp6(4),e.Q6J("ngIf",!n.isNew),e.xp6(1),e.Q6J("ngIf",n.isNew),e.xp6(6),e.Q6J("ngIf",!n.isNew),e.xp6(1),e.Q6J("ngIf",n.isNew),e.xp6(6),e.Q6J("ngModel",n.product.supplier),e.xp6(3),e.Q6J("ngForOf",n.business),e.xp6(4),e.Q6J("ngModel",n.product.quantity)("ngModelOptions",e.DdM(12,A)),e.xp6(9),e.Q6J("ngModel",n.product.price)("ngModelOptions",e.DdM(13,A)),e.xp6(5),e.hij("$",n.importe(),""),e.xp6(4),e.hij(" ",n.mensaje," "))},dependencies:[x.sg,x.O5,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.JL,u.Q7,u.nD,u.On,u.F],styles:["input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return o})();function Je(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",25),e.NdJ("ngModelChange",function(n){const l=e.CHM(t).index,d=e.oxw();return e.KtG(d.checkboxes[l]=n)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateButtonState())}),e.qZA()(),e.TgZ(4,"th",26),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",27)(17,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.modalNew(!1))})("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.sendP(i.id))}),e.TgZ(18,"span",5),e._UZ(19,"i",29),e.qZA()(),e.TgZ(20,"button",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteProduct(i.id))}),e.TgZ(21,"span",5),e._UZ(22,"i",31),e.qZA()()()(),e.BQk()}if(2&o){const t=a.$implicit,r=a.index,n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.checkboxes[r]),e.xp6(2),e.Oqu(t.brand),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.hij("$",t.price,""),e.xp6(2),e.hij("$",t.amount,""),e.xp6(2),e.Oqu(t.supplier)}}function Ue(o,a){1&o&&e._UZ(0,"app-warehouse-add",32),2&o&&e.Q6J("isNew",!0)}function Ie(o,a){if(1&o&&e._UZ(0,"app-warehouse-add",33),2&o){const t=e.oxw();e.Q6J("isNew",!1)("productWarehouse",t.productoEnviado)}}const Oe=[{path:"",redirectTo:"Dashboard",pathMatch:"full"},{path:"Dashboard",component:Q},{path:"Product-List",component:j},{path:"Product-Add",component:O},{path:"Product-Edit/:numero",component:O},{path:"Supplier-List",component:ve},{path:"Warehouse",component:(()=>{class o{updateButtonState(){const t=this.checkboxes.filter(r=>r).length;this.isButtonEnabled=1===t}onButtonClick(){console.log("Button clicked!")}constructor(t,r){this.router=t,this.bodega=r,this.checkboxes=[],this.isButtonEnabled=!1,this.listProducts=[],this.business=[]}ngOnInit(){this.listAll(),this.checkboxes=new Array(this.listProducts.length).fill(!1)}pageAddProduc(){this.router.navigate(["admin/Product-Add"],{queryParams:{id:this.idP}})}listAll(){this.bodega.showAll().subscribe(t=>{t.forEach(r=>{r.updated_at=new Date(r.updated_at)}),t.sort((r,n)=>n.updated_at.getTime()-r.updated_at.getTime()),this.listProducts=t;for(let r=0;r<this.listProducts.length;r++)this.listProducts[r].supplier=t[r].supplier.business})}deleteProduct(t){this.bodega.delete(t).subscribe(r=>{console.log(r),location.reload()})}modalNew(t){this.isNew=t,this.mensaje=t?"Agregar Producto":"Editar informaci\xf3n del producto"}sendP(t){this.productoEnviado=t}static#e=this.\u0275fac=function(r){return new(r||o)(e.Y36(M.F0),e.Y36(F))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-warehouse"]],decls:48,vars:5,consts:[[1,"tittle"],[1,"container-fluid"],[1,"container"],[1,"d-flex","justify-content-start"],["type","button","data-bs-toggle","modal","data-bs-target","#ModalProveedor",1,"btn","btn-icon","btn-outline","btn-outline-Produ",3,"click"],[1,"btn-inner--icon"],[1,"fas","fa-box"],[1,"btn-inner--text"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-icon","btn-outline-success",3,"disabled","click"],[1,"fas","fa-list-check"],[1,"tablaP"],[1,"table","table-striped","table-hover","table-light"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["id","ModalProveedor","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[3,"isNew",4,"ngIf"],[3,"isNew","productWarehouse",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange","change"],["scope","row"],[1,"mat-cell"],["data-bs-toggle","modal","data-bs-target","#ModalProveedor","type","button",1,"btn","btn-icon","btn-2","btn-warning",3,"click"],[1,"fa-solid","fa-pen-to-square",2,"color","#ffffff"],["type","button",1,"btn","btn-icon","btn-2","btn-danger",3,"click"],[1,"fa-solid","fa-xmark",2,"color","#ffffff"],[3,"isNew"],[3,"isNew","productWarehouse"]],template:function(r,n){1&r&&(e.TgZ(0,"h1",0),e._uU(1,"Bodega de Productos"),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.modalNew(!0)}),e.TgZ(7,"span",5),e._UZ(8,"i",6),e.qZA(),e.TgZ(9,"span",7),e._uU(10," Agregar Producto "),e.qZA()()(),e.TgZ(11,"div",8)(12,"button",9),e.NdJ("click",function(){return n.pageAddProduc()})("click",function(){return n.onButtonClick()}),e.TgZ(13,"span",5),e._UZ(14,"i",10),e.qZA(),e.TgZ(15,"span",7),e._uU(16," Agregar a stock "),e.qZA()()()()(),e._UZ(17,"br"),e.TgZ(18,"div",11)(19,"table",12)(20,"thead",13)(21,"tr"),e._UZ(22,"th",14),e.TgZ(23,"th",14),e._uU(24,"Marca"),e.qZA(),e.TgZ(25,"th",14),e._uU(26,"Nombre"),e.qZA(),e.TgZ(27,"th",14),e._uU(28,"Cantidad"),e.qZA(),e.TgZ(29,"th",14),e._uU(30,"Precio"),e.qZA(),e.TgZ(31,"th",14),e._uU(32,"Importe"),e.qZA(),e.TgZ(33,"th",14),e._uU(34,"Proveedor"),e.qZA(),e._UZ(35,"th",14),e.qZA()(),e.TgZ(36,"tbody"),e.YNc(37,Je,23,7,"ng-container",15),e.qZA()(),e.TgZ(38,"div",16)(39,"div",17)(40,"div",18)(41,"div",19)(42,"h4",20),e._uU(43),e.qZA(),e._UZ(44,"button",21),e.qZA(),e.TgZ(45,"div",22),e.YNc(46,Ue,1,1,"app-warehouse-add",23),e.YNc(47,Ie,1,2,"app-warehouse-add",24),e.qZA()()()()()),2&r&&(e.xp6(12),e.Q6J("disabled",!n.isButtonEnabled),e.xp6(25),e.Q6J("ngForOf",n.listProducts),e.xp6(6),e.Oqu(n.mensaje),e.xp6(3),e.Q6J("ngIf",n.isNew),e.xp6(1),e.Q6J("ngIf",!n.isNew))},dependencies:[x.sg,x.O5,u.Wl,u.JJ,u.On,ke],styles:['@charset "UTF-8";.table[_ngcontent-%COMP%]{vertical-align:middle}.tittle[_ngcontent-%COMP%]{color:#034e53}.container[_ngcontent-%COMP%]{column-count:2}.btn-outline-Produ[_ngcontent-%COMP%]{color:#15adb7;border-color:#15adb7}.btn-outline-Produ[_ngcontent-%COMP%]:hover, .btn-outline-Produ[_ngcontent-%COMP%]:active{color:#fff;background-color:#15adb7;border-color:#15adb7}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}']})}return o})()},{path:"Sale",component:(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-sale"]],decls:48,vars:0,consts:[[1,"background"],[1,"tittle"],[1,"tablaP"],[1,"table","table-striped","table-hover","table-light"],[1,"table-dark"],["scope","col"],["scope","row"]],template:function(r,n){1&r&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Ventas"),e.qZA(),e._UZ(3,"br")(4,"br"),e.TgZ(5,"div",2)(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),e._uU(10,"Venta"),e.qZA(),e.TgZ(11,"th",5),e._uU(12,"Cliente"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"Marca"),e.qZA(),e.TgZ(15,"th",5),e._uU(16,"Producto"),e.qZA(),e.TgZ(17,"th",5),e._uU(18,"Cantidad"),e.qZA(),e.TgZ(19,"th",5),e._uU(20,"Precio"),e.qZA(),e.TgZ(21,"th",5),e._uU(22,"Importe"),e.qZA(),e.TgZ(23,"th",5),e._uU(24,"PDA"),e.qZA(),e.TgZ(25,"th",5),e._uU(26,"Ganancia"),e.qZA()()(),e.TgZ(27,"tbody"),e.ynx(28),e.TgZ(29,"tr")(30,"th",6),e._uU(31,"1"),e.qZA(),e.TgZ(32,"td"),e._uU(33,"Juan"),e.qZA(),e.TgZ(34,"td"),e._uU(35,"Prismacolor"),e.qZA(),e.TgZ(36,"td"),e._uU(37,"Lapices de colores 24pz"),e.qZA(),e.TgZ(38,"td"),e._uU(39,"3"),e.qZA(),e.TgZ(40,"td"),e._uU(41,"$120.00"),e.qZA(),e.TgZ(42,"td"),e._uU(43,"$360.00"),e.qZA(),e.TgZ(44,"td"),e._uU(45,"$86.90"),e.qZA(),e.TgZ(46,"td"),e._uU(47,"$99.30"),e.qZA()(),e.BQk(),e.qZA()()()())},styles:[".background[_ngcontent-%COMP%]{background:#f4f7fa;height:32rem}.table[_ngcontent-%COMP%]{vertical-align:middle}.tittle[_ngcontent-%COMP%]{color:#034e53}.container[_ngcontent-%COMP%]{column-count:2}"]})}return o})()}];let Se=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[M.Bz.forChild(Oe),M.Bz]})}return o})()}}]);